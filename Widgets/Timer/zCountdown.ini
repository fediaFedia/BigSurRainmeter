[Rainmeter]
DragGroup=BigSur
Group=Widget | BigSur
Author=Xyrfo and fediaFedia
OnRefreshAction=[!EnableMeasureGroup Timers][!UpdateMeasureGroup Timers][!SetTransparency "#opacity#"]
MouseActionCursor=0
MiddleMouseUpAction=!DeactivateConfig
Update=1000

Blur=#globalblurenable#
BlurRegion=2,(10-#Padding#),(10-#Padding#),161*#scaledpi#,161*#scaledpi#,#blurcornerradius#

RightMouseUpAction=[!SkinCustomMenu]
ContextTitle=#Settings#
ContextAction=["#@#Config.exe" #Type# "#CURRENTCONFIG#" "#CURRENTFILE#" "#SETTINGSPATH#" "#SKINSPATH#" "#PROGRAMPATH#" "#scaledpi#"]
ContextTitle2=#Close#
ContextAction2=[!DeactivateConfig]
ContextTitle3=----
ContextAction3=[]
ContextTitle4=#AddItems#
ContextAction4=[!ActivateConfig "BigSur\Gallery" "Gallery.ini"]
ContextTitle5=----
ContextAction5=[]
ContextTitle6=#MoreActions#
ContextAction6=[!SkinMenu]

[Metadata]
Version=1.0
Information=BigSur for Rainmeter
License=Creative Commons Attribution-Noncommercial-Share Alike 3.0 License

[Variables]
Type=Regular
@include=#@#Global.inc
@include1=#@#Languages\#MainLanguage#.inc
@include2=#@#\Structure\#Type#\Type.inc
@include3=UserVariables.inc
@include4=#CURRENTPATH#TimeSettings.inc
Name=#Timer#





ActionToTake=[Play #SoundFile#]["#AdditionalAction#"][!ActivateConfig "#CURRENTCONFIG#"]
ActionToTakeSound=[Play #SoundFile#]




[TextStyle]
FontFace=#ThemeFont#
FontSize=(11)*#scaledpi#
FontColor=255,255,255,255
AntiAlias=1
DynamicVariables=1










[MeasureNow]
Measure=Time
Group=Timers | BigSur
UpdateDivider=-1
Disabled=1

[MeasureTotalSeconds]
Measure=Calc
Group=Timers | BigSur
Formula=(#TimerHours# * 3600) + (#TimerMinutes# * 60) + #TimerSeconds#
UpdateDivider=-1
Disabled=1

[MeasureTarget]
Measure=Time
Group=Timers | BigSur
Format=%#m/%#d/%Y %#H:%M:%S
TimeStamp=([MeasureNow:TimeStamp] + [MeasureTotalSeconds])
UpdateDivider=1
Disabled=1
DynamicVariables=1
OnUpdateAction=[!SetVariable Target "[MeasureTarget]"][!UpdateMeasure MeasureLua]

[MeasureLua]
Measure=Script
Group=Timers | BigSur
ScriptFile=#CURRENTPATH#Timer.lua
IfCondition=MeasureLua <= 0
IfTrueAction=#ActionToTake#
Disabled=1



[MeasureHours]
Measure=Calc
Formula=#TimerHours#


[MeasureMinutes]
Measure=Calc
Formula=#TimerMinutes#
RegExpSubstitute=1
Substitute="^(.)$":"0\1","^(.+)$":"\1"


[MeasureSeconds]
Measure=Calc
Formula=#TimerSeconds#
RegExpSubstitute=1
Substitute="^(.)$":"0\1","^(.+)$":"\1"







[MeterHours1]
Meter=String
MeterStyle=TextStyle
Y=(65*#scaledpi#)
X=(85*#scaledpi#)

FontFace=#ThemeFont#
FontSize=(#Height#/5)*#scaledpi#
stringalign=center
Text="%1:%2"
MeasureName=MeasureHours
MeasureName2=MeasureMinutes
MouseActionCursor=1
FontColor=#textcolor2#

Hidden=0
Group=TickTock | BigSur




[MeterSeconds1]
Meter=String
MeterStyle=TextStyle
X=(#Height#/2+5)*#scaledpi#
Y=(#Height#/1.6)*#scaledpi#
W=(#Height#+10)*#scaledpi#
H=(#Height#+10)*#scaledpi#
StringAlign=CENTERcenter
FontFace=#ThemeFont#
FontSize=(#Height#/2)*#scaledpi#
FontColor=#TextColor2#,50
MeasureName=MeasureSeconds
Hidden=0




[MeterStop]
Meter=String
MeterStyle=TextStyle
Text=#stop#
X=((#Height#/2+5))*#scaledpi#
Y=((#Height#/6*5))*#scaledpi#
stringalign=CENTER
Hidden=1
DynamicVariables=1
LeftMouseUpAction=!RainmeterRefresh #CURRENTCONFIG#
MouseActionCursor=1
FontColor=#textcolor2#,#paneltitleopacity#
%PanelTop%


